execute as @e[type=item,nbt={Item:{count:1,id:"minecraft:diamond_sword"}}] unless score @s isrefined matches 1 run data merge entity @s {Item:{components:{"minecraft:lore":[{"text":"可格挡","color":"green","bold":true}],"minecraft:blocks_attacks":{'block_delay_seconds':0.105f,'block_sound':'minecraft:entity.zombie.attack_iron_door','disable_cooldown_scale':0.8f,'item_damage':{'threshold':1.0f,'factor':1.0f,'base':1.0f},'damage_reductions':[{'base':10.0f,'factor':0.5f,'horizontal_blocking_angle':120.0f}]}}}}
execute as @e[type=item,nbt={Item:{count:1,id:"minecraft:diamond_sword"}}] at @s unless score @s isrefined matches 1 run kill @n[type=item,nbt={Item:{count:1,id:"minecraft:diamond"}}]
execute as @e[type=item,nbt={Item:{count:1,id:"minecraft:diamond_sword"}}] at @s unless score @s isrefined matches 1 run particle minecraft:wax_on ~ ~ ~ 0.24 0.24 0.24 0.3 12 force
execute as @e[type=item,nbt={Item:{count:1,id:"minecraft:diamond_sword"}}] at @s unless score @s isrefined matches 1 run execute as @a[distance=..8] run playsound minecraft:block.anvil.use master @s ~ ~ ~ 1 1 0.1
execute as @e[type=item,nbt={Item:{count:1,id:"minecraft:diamond_sword"}}] unless score @s isrefined matches 1 run scoreboard players add @s isrefined 1